<!doctype html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>🐈 Emergency Kitten!</title>
<link rel="stylesheet" href="kittens.css">

<main>
  <noscript>There would normally be a kitten here, but you disabled JavaScript and killed it.</noscript>
</main>

<footer>
  <p>
    Photos are either under a <a href="https://creativecommons.org/licenses/">Creative Commons</a> license or were marked as shareable by their creators. Not a kitten? Someone may have mistagged it on Flickr. <a href="./">Reload</a> for another one!
  </p>

  <ul>
    <li>Site by <a href="https://wonko.com">Ryan Grove</a></li>
    <li><a href="https://github.com/rgrove/emergencykitten">Source on GitHub</a></li>
  </ul>
</footer>

<script src="kittens.js"></script>
<script>
(async (win, doc) => {
  let kitten = await getRandomKitten();
  let image = doc.createElement('img');
  let link = doc.createElement('a');

  link.className = 'kitten';
  link.href = kitten.url;

  image.alt = kitten.imageAlt;
  image.className = 'kitten-image';
  image.src = kitten.imageUrl;

  image.addEventListener('load', () => {
    doc.documentElement.dataset.loaded = true;
  }, { once: true });

  link.appendChild(image);
  doc.querySelector('main').appendChild(link);
})(this, document);
</script>
